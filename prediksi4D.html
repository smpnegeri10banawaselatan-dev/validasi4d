<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Prediksi Angka Main dari Banyak 4D</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    textarea, button { font-size: 16px; padding: 8px; width: 100%; margin-top: 10px; box-sizing: border-box; }
    .hasil { margin-top: 20px; font-size: 16px; white-space: pre-wrap; }
    .hasil strong { color: green; }
    button.copy { margin-top: 10px; background: #eee; border: 1px solid #ccc; cursor: pointer; }
  </style>
</head>
<body>

<h2>Prediksi Angka Main dari Banyak Angka 4D</h2>

<label for="input4DList">Masukkan beberapa angka 4D (satu per baris):</label>
<textarea id="input4DList" rows="6" placeholder="Contoh:\n1234\n4567\n0987"></textarea>

<button onclick="prediksiBanyak4D()">Prediksi Semua</button>

<div class="hasil" id="hasil"></div>
<button class="copy" onclick="salinHasil()">Salin Hasil</button>

<script>
// Pola angka main berdasarkan posisi
const polaAngkaMain = {
  0: ['1', '2', '3'],
  1: ['2', '4', '5'],
  2: ['3', '5', '6'],
  3: ['4', '6', '7'],
  4: ['5', '7', '8'],
  5: ['6', '8', '9'],
  6: ['7', '9', '0'],
  7: ['8', '0', '1'],
  8: ['9', '1', '2'],
  9: ['0', '2', '3']
};

function prediksiBanyak4D() {
  const input = document.getElementById('input4DList').value.trim();
  const hasilDiv = document.getElementById('hasil');
  if (!input) {
    hasilDiv.innerHTML = '<span style="color:red;">Masukkan setidaknya satu angka 4D.</span>';
    return;
  }

  const baris = input.split('\n').map(line => line.trim()).filter(line => /^\d{4}$/.test(line));
  if (baris.length === 0) {
    hasilDiv.innerHTML = '<span style="color:red;">Semua input harus 4 digit angka (contoh: 1234).</span>';
    return;
  }

  let output = '';
  const semuaAngkaMain = new Set();

  baris.forEach(angka4D => {
    const kepala = parseInt(angka4D[0]);
    const ekor = parseInt(angka4D[3]);

    const angkaKepala = polaAngkaMain[kepala];
    const angkaEkor = polaAngkaMain[ekor];
    const gabungan = [...new Set([...angkaKepala, ...angkaEkor])];

    gabungan.forEach(a => semuaAngkaMain.add(a));

    output += `▶️ ${angka4D} (Kepala: ${kepala}, Ekor: ${ekor})\n`;
    output += `   - Angka Kepala: ${angkaKepala.join(', ')}\n`;
    output += `   - Angka Ekor  : ${angkaEkor.join(', ')}\n`;
    output += `   - Gabungan    : ${gabungan.join(', ')}\n\n`;
  });

  output += `<strong>✅ Total Angka Main Unik:</strong> ${Array.from(semuaAngkaMain).sort().join(', ')}`;
  hasilDiv.innerHTML = output;
}

function salinHasil() {
  const text = document.getElementById('hasil').innerText;
  if (!text) return alert('Tidak ada hasil untuk disalin.');
  navigator.clipboard.writeText(text)
    .then(() => alert('Hasil disalin ke clipboard.'))
    .catch(() => alert('Gagal menyalin.'));
}
</script>

</body>
</html>
